<!<!DOCTYPE html>
<html>
<head>
    <title>D3 tutorial</title>
    <script src="http://d3js.org/d3.v3.min.js"></script>
</head>
<body>

    <script>

        //d3.json("mydata10.json", function (data) {
        d3.csv("mydata10.csv", function (data) {
            
            var canvas = d3.select("body").append("svg")
                            .attr("width", 500)
                            .attr("height", 500);

            var color = d3.scale
                                .linear()
                                .domain([0, 50])
                                .range(["blue", "red"])

            canvas
                    .selectAll("rect")
                    .data(data)
                    .enter()
                        .append("rect")
                        .attr("width", function (d) { return d.age * 10; })
                        .attr("height", 48)
                        .attr("y", function (d, i) { return i * 50; })
                        .attr("fill", function (d) { return color(d.age); });

            canvas
                    .selectAll("text")
                    .data(data)
                    .enter()
                        .append("text")
                        .attr("fill", "white")
                        .attr("y", function (d, i) { return i * 50 + 28; })
                        .attr("x", 5)
                        .text(function (d) { return d.name; });

        });
        
    </script>

</body>
</html>